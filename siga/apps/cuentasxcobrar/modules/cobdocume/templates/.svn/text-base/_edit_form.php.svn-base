<?php
// auto-generated by PropelCidesa
// date: 2013/05/20 11:47:27
?>
<?php

/**
 *
 * @package    Roraima
 * @subpackage vistas
 
 * @author     $Author: lhernandez $ <desarrollo@cidesa.com.ve>
 * @version    SVN: $Id: _edit_form.php 32815 2009-09-08 16:52:04Z lhernandez $
 * @copyright  Copyright 2007, Cide S.A.
 *
 */
 ?>

<?php echo form_tag('cobdocume/save', array(
  'id'        => 'sf_admin_edit_form',
  'name'      => 'sf_admin_edit_form',
  'multipart' => true,
  'onsubmit'  => 'return false;',
)) ?>

<?php echo object_input_hidden_tag($cobdocume, 'getId') ?>

<?php
  $fields = CobdocumePeer::getFieldNames();

  if(array_search('Codalmusu', $fields))
  {  ?>
  <h2 class="h2" onclick="javascript: return $('divusualms').toggle();"><?php echo __('Almacenes') ?></h2>
  <fieldset id="sf_fieldset_usualms" class="">
  <div class="form-row" id="divusualms">
    <?php echo label_for('cobdocume[codalmusu]', __('Almacenes Por Usuario: '), 'class="required" Style="text-align:left; width:150px"') ?>
    <div class="content">
    <?php
      $almacenes = $sf_user->getAttribute('usualms',array());
      if(count($almacenes)>0){
        $keys = array_keys($almacenes);
        $codalm = $keys[0];
      }else $codalm = '';
      if($codalm == '') echo label_for('cobdocume[codalmusu]', __('Usuario sin Almacen Asociado'), 'class="required" Style="text-align:left; width:150px"').'<br><br><br>';
      else echo select_tag('cobdocume[codalmusu]',options_for_select($almacenes,$cobdocume->getCodalmusu()!='' ? $cobdocume->getCodalmusu() : $codalm), ( ($cobdocume->getId()) ? 'disabled=true' : '').' style=width:500px');
    ?>
    </div>
  </div>
  </fieldset>
<?php } ?>

<?php echo object_input_hidden_tag($cobdocume, 'getTotalcomprobantes', array('id' => 'cobdocume_totalcomprobantes', 'name' => 'cobdocume[totalcomprobantes]')) ?>
<?php echo object_input_hidden_tag($cobdocume, 'getRefcomcon', array('id' => 'cobdocume_refcomcon', 'name' => 'cobdocume[refcomcon]')) ?>
<?php echo object_input_hidden_tag($cobdocume, 'getNumcom', array('id' => 'cobdocume_numcom', 'name' => 'cobdocume[numcom]')) ?>
<?php echo object_input_hidden_tag($cobdocume, 'getSaldocnc', array('id' => 'cobdocume_saldocnc', 'name' => 'cobdocume[saldocnc]')) ?>
<?php echo object_input_hidden_tag($cobdocume, 'getSaldocnd', array('id' => 'cobdocume_saldocnd', 'name' => 'cobdocume[saldocnd]')) ?>
<h2 class="h2" onclick="javascript: return $('divDatos del Cliente').toggle();"><?php echo __('Datos del Cliente') ?></h2>
<fieldset id="sf_fieldset_datos_del_cliente" class="">

<div class="form-row" id="divDatos del Cliente">
<div id="divcodcli">
  <?php if($labels['cobdocume{codcli}']!='.:') { ?>
  <?php echo label_for('cobdocume[codcli]', __($labels['cobdocume{codcli}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{codcli}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{codcli}')): ?>
    <?php echo form_error('cobdocume{codcli}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = get_partial('codcli', array('type' => 'edit', 'cobdocume' => $cobdocume,'labels' => $labels,'params' => $params)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['cobdocume{codcli}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divrifpro">
  <?php if($labels['cobdocume{rifpro}']!='.:') { ?>
  <?php echo label_for('cobdocume[rifpro]', __($labels['cobdocume{rifpro}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{rifpro}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{rifpro}')): ?>
    <?php echo form_error('cobdocume{rifpro}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($cobdocume, 'getRifpro', array (
  'disabled' => true,
  'control_name' => 'cobdocume[rifpro]',
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['cobdocume{rifpro}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
</div>
</fieldset>

<h2 class="h2" onclick="javascript: return $('divDatos del Documento').toggle();"><?php echo __('Datos del Documento') ?></h2>
<fieldset id="sf_fieldset_datos_del_documento" class="">

<div class="form-row" id="divDatos del Documento">
<div id="divrefdoc">
  <?php if($labels['cobdocume{refdoc}']!='.:') { ?>
  <?php echo label_for('cobdocume[refdoc]', __($labels['cobdocume{refdoc}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{refdoc}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{refdoc}')): ?>
    <?php echo form_error('cobdocume{refdoc}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($cobdocume, 'getRefdoc', array (
  'size' => 12,
  'control_name' => 'cobdocume[refdoc]',
  'maxlength' => 10,
  'onBlur' => 'this.value=this.value.pad(10, \'0\',0);',
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['cobdocume{refdoc}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divfatipmov_id">
  <?php if($labels['cobdocume{fatipmov_id}']!='.:') { ?>
  <?php echo label_for('cobdocume[fatipmov_id]', __($labels['cobdocume{fatipmov_id}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{fatipmov_id}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{fatipmov_id}')): ?>
    <?php echo form_error('cobdocume{fatipmov_id}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = get_partial('fatipmov_id', array('type' => 'edit', 'cobdocume' => $cobdocume,'labels' => $labels,'params' => $params)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['cobdocume{fatipmov_id}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divrefdocnc" style="display:none">
  <?php if($labels['cobdocume{refdocnc}']!='.:') { ?>
  <?php echo label_for('cobdocume[refdocnc]', __($labels['cobdocume{refdocnc}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{refdocnc}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{refdocnc}')): ?>
    <?php echo form_error('cobdocume{refdocnc}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($cobdocume, 'getRefdocnc', array (
  'size' => 20,
  'control_name' => 'cobdocume[refdocnc]',
  'onBlur' => 'toAjax(9,getUrlModuloAjax(),this.value,\'\',\'&codcli=\'+$(\'cobdocume_codcli\').value+\'\')',
)); echo $value ? $value : '&nbsp;' ?>
      
    
  <?php if($labels['cobdocume{refdocnc}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>

<br/>
<div id="divrefdocnd" style="display:none">
  <?php if($labels['cobdocume{refdocnd}']!='.:') { ?>
  <?php echo label_for('cobdocume[refdocnd]', __($labels['cobdocume{refdocnd}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{refdocnd}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{refdocnd}')): ?>
    <?php echo form_error('cobdocume{refdocnd}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($cobdocume, 'getRefdocnd', array (
  'size' => 20,
  'control_name' => 'cobdocume[refdocnd]',
  'onBlur' => 'toAjax(11,getUrlModuloAjax(),this.value,\'\',\'&codcli=\'+$(\'cobdocume_codcli\').value+\'\')',
)); echo $value ? $value : '&nbsp;' ?>
      
    
  <?php if($labels['cobdocume{refdocnd}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divfecemi">
  <?php if($labels['cobdocume{fecemi}']!='.:') { ?>
  <?php echo label_for('cobdocume[fecemi]', __($labels['cobdocume{fecemi}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{fecemi}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{fecemi}')): ?>
    <?php echo form_error('cobdocume{fecemi}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_date_tag($cobdocume, 'getFecemi', array (
  'rich' => true,
  'onkeyup' => 'mascara(this,\'/\',patron,true)',
  'calendar_button_img' => '/sf/sf_admin/images/date.png',
  'control_name' => 'cobdocume[fecemi]',
  'size' => 10,
  'maxlength' => 10,
  'onchange' => 'CalculaFecVenci(this.id)',
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['cobdocume{fecemi}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divfecven">
  <?php if($labels['cobdocume{fecven}']!='.:') { ?>
  <?php echo label_for('cobdocume[fecven]', __($labels['cobdocume{fecven}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{fecven}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{fecven}')): ?>
    <?php echo form_error('cobdocume{fecven}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_date_tag($cobdocume, 'getFecven', array (
  'rich' => true,
  'onkeyup' => 'mascara(this,\'/\',patron,true)',
  'calendar_button_img' => '/sf/sf_admin/images/date.png',
  'control_name' => 'cobdocume[fecven]',
  'size' => 10,
  'maxlength' => 10,
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['cobdocume{fecven}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divantdeu">
  <?php if($labels['cobdocume{antdeu}']!='.:') { ?>
  <?php echo label_for('cobdocume[antdeu]', __($labels['cobdocume{antdeu}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{antdeu}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{antdeu}')): ?>
    <?php echo form_error('cobdocume{antdeu}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($cobdocume, 'getAntdeu', array (
  'disabled' => true,
  'control_name' => 'cobdocume[antdeu]',
  'style' => 'border:none',
  'size' => 50,
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['cobdocume{antdeu}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divdesdoc">
  <?php if($labels['cobdocume{desdoc}']!='.:') { ?>
  <?php echo label_for('cobdocume[desdoc]', __($labels['cobdocume{desdoc}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{desdoc}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{desdoc}')): ?>
    <?php echo form_error('cobdocume{desdoc}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_textarea_tag($cobdocume, 'getDesdoc', array (
  'control_name' => 'cobdocume[desdoc]',
  'size' => '80x5',
  'maxlength' => 3000,
  'onkeyup' => 'ismaxlength(this)',
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['cobdocume{desdoc}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divcoddirec">
  <?php if($labels['cobdocume{coddirec}']!='.:') { ?>
  <?php echo label_for('cobdocume[coddirec]', __($labels['cobdocume{coddirec}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{coddirec}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{coddirec}')): ?>
    <?php echo form_error('cobdocume{coddirec}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
    
  <?php echo Catalogo($cobdocume, 6, array (
  'getprincipal' => 'getCoddirec',
  'getsecundario' => 'getDesdirec',
  'campoprincipal' => 'coddirec',
  'camposecundario' => 'desdirec',
  'campobase' => 'id',
),  'Cadefdirec_Almdefdiv',  'Cadefdirec',  '',  '',  '');?>

    
  <?php if($labels['cobdocume{coddirec}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
</div>
</fieldset>

<h2 class="h2" onclick="javascript: return $('divSaldos').toggle();"><?php echo __('Saldos') ?></h2>
<fieldset id="sf_fieldset_saldos" class="">

<div class="form-row" id="divSaldos">
<div id="divmondoc">
  <?php if($labels['cobdocume{mondoc}']!='.:') { ?>
  <?php echo label_for('cobdocume[mondoc]', __($labels['cobdocume{mondoc}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{mondoc}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{mondoc}')): ?>
    <?php echo form_error('cobdocume{mondoc}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($cobdocume, array('getMondoc',true), array (
  'size' => 15,
  'onKeyPress' => 'return validaDecimal(event)',
  'onBlur' => 'event.keyCode=13; formatoDecimal(event,this.id); toAjax(2,getUrlModulo()+\'ajax\',this.value,\'\',\'&codcli=\'+$(\'cobdocume_codcli\').value+\'\')',
  'control_name' => 'cobdocume[mondoc]',
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['cobdocume{mondoc}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divexonerado" style="display:none">
<div id="divmonexo">
  <?php if($labels['cobdocume{monexo}']!='.:') { ?>
  <?php echo label_for('cobdocume[monexo]', __($labels['cobdocume{monexo}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{monexo}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{monexo}')): ?>
    <?php echo form_error('cobdocume{monexo}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($cobdocume, array('getMonexo',true), array (
  'size' => 15,
  'onKeyPress' => 'return validaDecimal(event)',
  'onBlur' => 'event.keyCode=13; formatoDecimal(event,this.id); toAjax(10,getUrlModulo()+\'ajax\',this.value,\'\',\'&mondoc=\'+$(\'cobdocume_mondoc\').value+\'\')',
  'control_name' => 'cobdocume[monexo]',
)); echo $value ? $value : '&nbsp;' ?>
      
    
  <?php if($labels['cobdocume{monexo}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divbasimp">
  <?php if($labels['cobdocume{basimp}']!='.:') { ?>
  <?php echo label_for('cobdocume[basimp]', __($labels['cobdocume{basimp}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{basimp}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{basimp}')): ?>
    <?php echo form_error('cobdocume{basimp}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($cobdocume, 'getBasimp', array (
    'control_name' => 'cobdocume[basimp]',
    'readonly' => true,
    'size' => 15,
)); echo $value ? $value : '&nbsp;' ?>
      
    
  <?php if($labels['cobdocume{basimp}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divrecdoc">
  <?php if($labels['cobdocume{recdoc}']!='.:') { ?>
  <?php echo label_for('cobdocume[recdoc]', __($labels['cobdocume{recdoc}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{recdoc}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{recdoc}')): ?>
    <?php echo form_error('cobdocume{recdoc}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($cobdocume, array('getRecdoc',true), array (
  'size' => 15,
  'onKeyPress' => 'return validaDecimal(event)',
  'onBlur' => 'event.keyCode=13;return formatoDecimal(event,this.id)',
  'control_name' => 'cobdocume[recdoc]',
  'readonly' => true,
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['cobdocume{recdoc}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
</div>
<br/>
<div id="divdscdoc">
  <?php if($labels['cobdocume{dscdoc}']!='.:') { ?>
  <?php echo label_for('cobdocume[dscdoc]', __($labels['cobdocume{dscdoc}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{dscdoc}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{dscdoc}')): ?>
    <?php echo form_error('cobdocume{dscdoc}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($cobdocume, array('getDscdoc',true), array (
  'size' => 15,
  'onKeyPress' => 'return validaDecimal(event)',
  'onBlur' => 'event.keyCode=13;return formatoDecimal(event,this.id)',
  'control_name' => 'cobdocume[dscdoc]',
  'readonly' => true,
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['cobdocume{dscdoc}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divabodoc">
  <?php if($labels['cobdocume{abodoc}']!='.:') { ?>
  <?php echo label_for('cobdocume[abodoc]', __($labels['cobdocume{abodoc}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{abodoc}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{abodoc}')): ?>
    <?php echo form_error('cobdocume{abodoc}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($cobdocume, array('getAbodoc',true), array (
  'size' => 15,
  'onKeyPress' => 'return validaDecimal(event)',
  'onBlur' => 'event.keyCode=13;return formatoDecimal(event,this.id)',
  'control_name' => 'cobdocume[abodoc]',
  'readonly' => true,
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['cobdocume{abodoc}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divsaldoc">
  <?php if($labels['cobdocume{saldoc}']!='.:') { ?>
  <?php echo label_for('cobdocume[saldoc]', __($labels['cobdocume{saldoc}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{saldoc}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{saldoc}')): ?>
    <?php echo form_error('cobdocume{saldoc}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($cobdocume, array('getSaldoc',true), array (
  'size' => 15,
  'onKeyPress' => 'return validaDecimal(event)',
  'onBlur' => 'event.keyCode=13;return formatoDecimal(event,this.id)',
  'control_name' => 'cobdocume[saldoc]',
  'readonly' => true,
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['cobdocume{saldoc}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divcomprobante">
  <?php if($labels['cobdocume{comprobante}']!='.:') { ?>
  <?php echo label_for('cobdocume[comprobante]', __($labels['cobdocume{comprobante}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{comprobante}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{comprobante}')): ?>
    <?php echo form_error('cobdocume{comprobante}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = get_partial('comprobante', array('type' => 'edit', 'cobdocume' => $cobdocume,'labels' => $labels,'params' => $params)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['cobdocume{comprobante}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
</div>
</fieldset>

<h2 class="h2" onclick="javascript: return $('divRecargos').toggle();"><?php echo __('Recargos') ?></h2>
<fieldset id="sf_fieldset_recargos" class="">

<div class="form-row" id="divRecargos">
<div id="divgrid_recargos">
  <?php if($labels['cobdocume{grid_recargos}']!='.:') { ?>
  <?php echo label_for('cobdocume[grid_recargos]', __($labels['cobdocume{grid_recargos}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{grid_recargos}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{grid_recargos}')): ?>
    <?php echo form_error('cobdocume{grid_recargos}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = get_partial('grid_recargos', array('type' => 'edit', 'cobdocume' => $cobdocume,'labels' => $labels,'params' => $params)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['cobdocume{grid_recargos}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
</div>
</fieldset>

<h2 class="h2" onclick="javascript: return $('divDescuentos').toggle();"><?php echo __('Descuentos') ?></h2>
<fieldset id="sf_fieldset_descuentos" class="">

<div class="form-row" id="divDescuentos">
<div id="divgrid_descuentos">
  <?php if($labels['cobdocume{grid_descuentos}']!='.:') { ?>
  <?php echo label_for('cobdocume[grid_descuentos]', __($labels['cobdocume{grid_descuentos}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('cobdocume{grid_descuentos}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('cobdocume{grid_descuentos}')): ?>
    <?php echo form_error('cobdocume{grid_descuentos}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = get_partial('grid_descuentos', array('type' => 'edit', 'cobdocume' => $cobdocume,'labels' => $labels,'params' => $params)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['cobdocume{grid_descuentos}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
</div>
</fieldset>

<?php include_partial('edit_actions', array('cobdocume' => $cobdocume)) ?>

</form>

<ul class="sf_admin_actions">
      <li class="float-left"><?php if ($cobdocume->getId()): ?>
<?php echo button_to(__('delete'), 'cobdocume/delete?id='.$cobdocume->getId(), array (
  'post' => true,
  'confirm' => __('Are you sure?'),
  'class' => 'sf_admin_action_delete',
)) ?><?php endif; ?>
</li>
  </ul>

<script language="JavaScript" type="text/javascript">
var grabo='<?php echo $grabo;?>';
var nuevo='<?php echo $cobdocume->getId();?>';
var moscomp="<?php echo H::getConfApp2('moscomp', 'cuentasxcobrar', 'cobdocume');?>";

  if ($('cobdocume_refdocnc').value!='')
   $('divrefdocnc').show()

  if ($('cobdocume_refdocnd').value!='')
   $('divrefdocnd').show() 

 var manmonexo="<?php echo H::getConfApp2('manmonexo', 'cuentasxcobrar', 'cobdocume');?>";

  if (manmonexo=='S')
   $('divexonerado').show()


if (moscomp=='S' && grabo=='S')
{
  if(confirm("Â¿Desea consultar el Comprobante Contable?"))
  {
    var numcomdes=$('cobdocume_numcom').value;
    var numcomhas=$('cobdocume_numcom').value;
    var  ruta='http://'+'<? echo $this->getContext()->getRequest()->getHost();?>';
    pagina=ruta+"/<? echo $sf_user->getAttribute('reportes_web');?>/contabilidad/r.php?r=comprobante.php&com1="+numcomdes+"&com2="+numcomhas;
    window.open(pagina,1,"menubar=yes,toolbar=yes,scrollbars=yes,width=1200,height=800,resizable=yes,left=1000,top=80")
  }
}

function CalculaFecVenci(id)
{
   toAjax(7,getUrlModuloAjax(),$(id).value,'','&fecha='+$('cobdocume_fecemi').value+'&cliente='+$('cobdocume_codcli').value+'&id='+id);
}
</script>