<?php
// auto-generated by PropelCidesa
// date: 2008/11/18 10:34:25
?>
<?php echo form_tag('fapresup/save', array(
  'id'        => 'sf_admin_edit_form',
  'name'      => 'sf_admin_edit_form',
  'multipart' => true,
)) ?>

<?php echo object_input_hidden_tag($fapresup, 'getId') ?>
<?php echo javascript_include_tag('dFilter','ajax','tools','observe','facturacion/presupuesto') ?>
<?php use_helper('Javascript', 'tabs', 'Grid', 'Catalogo') ?>

<?php echo input_hidden_tag('fapresup[codcli]', $fapresup->getCodcli()) ?>
<?php echo input_hidden_tag('fapresup[manunialt]', $fapresup->getManunialt()) ?>
<?php echo input_hidden_tag('fapresup[manapu]', $fapresup->getManapu()) ?>
<?php echo input_hidden_tag('fapresup[porgasadm]', $fapresup->getPorgasadm()) ?>
<?php echo input_hidden_tag('fapresup[porcarfab]', $fapresup->getPorcarfab()) ?>
<?php echo input_hidden_tag('fapresup[porutilid]', $fapresup->getPorutilid()) ?>
<?php echo object_input_hidden_tag($fapresup, 'getFilactrec', array('id' => 'fapresup_filactrec', 'name' => 'fapresup[filactrec]')) ?>
<?php echo object_input_hidden_tag($fapresup, 'getFilactcon', array('id' => 'fapresup_filactcon', 'name' => 'fapresup[filactcon]')) ?>
<?php echo object_input_hidden_tag($fapresup, 'getFilactcon', array('id' => 'fapresup_filactapu', 'name' => 'fapresup[filactapu]')) ?>
<?php echo object_input_hidden_tag($fapresup, 'getTrajo', array('id' => 'fapresup_trajo', 'name' => 'fapresup[trajo]')) ?>
<?php echo input_hidden_tag('nrofilas', $numreg) ?>
<?php $cametifor=H::getConfApp2('cametifor', 'facturacion', 'fapresup');?>
<h2 class="h2" onclick="javascript: return $('divPresupuesto').toggle();"><?php if ($cametifor=='S') echo __('Cotización'); else echo __('Presupuesto'); ?></h2>
<fieldset id="sf_fieldset_presupuesto" class="">

<div class="form-row" id="divPresupuesto">

<table>
  <tr>
    <th>
		<div id="divrefpre">
		  <?php echo label_for('fapresup[refpre]', __($labels['fapresup{refpre}' ]), 'class="required" ') ?>
		  <div class="content<?php if ($sf_request->hasError('fapresup{refpre}')): ?> form-error<?php endif; ?>">
		  <?php if ($sf_request->hasError('fapresup{refpre}')): ?>
		    <?php echo form_error('fapresup{refpre}', array('class' => 'form-error-msg')) ?>
		  <?php endif; ?>

		  <?php $value = object_input_tag($fapresup, 'getRefpre', array (
		  'size' => 8,
		  'control_name' => 'fapresup[refpre]',
		  'maxlength' => 8,
		  'onBlur'  => "javascript:event.keyCode=13; enters(event,this.value);",
          'readonly'  =>  $fapresup->getId()!='' ? true : false ,
		)); echo $value ? $value : '&nbsp;' ?>
         <?php if ((!$fapresup->getId()) && H::getConfApp2('carpresup', 'facturacion', 'fapresup')=='S') { ?>
         <?php echo  button_to_popup('...',cross_app_link_to('herramientas','catalogo').'/metodo/Fapresup_Fapresup/clase/Fapresup/frame/sf_admin_edit_form/obj1/fapresup_refpre/campo1/refpre','','','botoncat')?></th>
		    <?php }?>
		    </div>
		</div>
    </th>
    <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
    <th>
		<div id="divfecpre">
		  <?php echo label_for('fapresup[fecpre]', __($labels['fapresup{fecpre}' ]), 'class="required" ') ?>
		  <div class="content<?php if ($sf_request->hasError('fapresup{fecpre}')): ?> form-error<?php endif; ?>">
		  <?php if ($sf_request->hasError('fapresup{fecpre}')): ?>
		    <?php echo form_error('fapresup{fecpre}', array('class' => 'form-error-msg')) ?>
		  <?php endif; ?>

		  <?php $value = object_input_date_tag($fapresup, 'getFecpre', array (
		  'rich' => true,
		  'calendar_button_img' => '/sf/sf_admin/images/date.png',
		  'control_name' => 'fapresup[fecpre]',
		  'date_format' => 'dd/MM/yyyy',
		  'maxlength' => 10,
		  'onkeyup' => "javascript: mascara(this,'/',patron,true)",
		  'readonly'  =>  $fapresup->getId()!='' ? true : false ,
		 ),date('Y-m-d')); echo $value ? $value : '&nbsp;' ?>

		    </div>
		</div>
    </th>
    <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
    <th>
		<div id="divcodmon">
		  <?php echo label_for('fapresup[tipmon]', __($labels['fapresup{tipmon}' ]), 'class="required" ') ?>
		  <div class="content<?php if ($sf_request->hasError('fapresup{tipmon}')): ?> form-error<?php endif; ?>">
		  <?php if ($sf_request->hasError('fapresup{tipmon}')): ?>
		    <?php echo form_error('fapresup{tipmon}', array('class' => 'form-error-msg')) ?>
		  <?php endif; ?>
           <?php if ($fapresup->getTipmon()=='') $var=H::getX_vacio('CODEMP', 'Cadefart', 'Codmon', '001'); else $var=$fapresup->getTipmon();?> 
		  <?php echo select_tag('fapresup[tipmon]', options_for_select($moneda,$var, 'include_custom=Seleccione Uno'), array(
		  'readonly'  =>  $fapresup->getId()!='' ? true : false ,
		  'onChange'=> remote_function(array(
		        'url'      => 'fapresup/ajax',
		        'complete' => 'AjaxJSON(request, json)',
		        'with' => "'ajax=2&fecha='+$('fapresup_fecpre').value+'&cajtexmos=fapresup_valmon&codigo='+this.value"
		        ))
		  )); ?> 
		<?php $value = object_input_tag($fapresup, array('getValmon',true), array (
        'size' => 15,
        'control_name' => 'fapresup[valmon]',
        'readonly'  =>  $fapresup->getId()!='' ? true : false ,
        'onBlur' => "javascript:event.keyCode=13; return entermontodecimal(event, this.id,6)",
      )); echo $value ? $value : '&nbsp;' ?>
			</div>
		    </div>
		</div>
    </th>
  </tr>
</table>
<br/>
<div id="refotrcot" style="display:none">
<div id="divtiecot" >
  <?php if($labels['fapresup{tiecot}']!='.:') { ?>
  <?php echo label_for('fapresup[tiecot]', __($labels['fapresup{tiecot}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{tiecot}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{tiecot}')): ?>
    <?php echo form_error('fapresup{tiecot}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  

<?php if($fapresup->getTiecot()=='S') $val = true; else $val=false; ?>
    <?php echo "Si ".radiobutton_tag('fapresup[tiecot]', 'S',  $val, array('id'=>'fapresup_tiecot_s' , 'onClick'=> "$('divrefpreaso').show();")); ?>&nbsp;
  <?php echo "No ".radiobutton_tag('fapresup[tiecot]', 'N', !$val, array('id'=>'fapresup_tiecot_n', 'onClick'=> "$('divrefpreaso').hide(); $('fapresup_refpreaso').value='';")) ?>

      
		
  <?php if($labels['fapresup{tiecot}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divrefpreaso" style="display:none">
  <?php if($labels['fapresup{refpreaso}']!='.:') { ?>
  <?php echo label_for('fapresup[refpreaso]', __($labels['fapresup{refpreaso}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{refpreaso}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{refpreaso}')): ?>
    <?php echo form_error('fapresup{refpreaso}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($fapresup, 'getRefpreaso', array (
  'size' => 20,
  'control_name' => 'fapresup[refpreaso]',
  'onBlur' => 'toAjax(19,getUrlModuloAjax(),this.value,\'\',\'&codpro=\'+$(\'fapresup_codcli\').value+\'\')',
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{refpreaso}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
</div>
<br/>

<table>
  <tr>
    <th>
		<div id="divrifpro">
		  <?php echo label_for('fapresup[rifpro]', __($labels['fapresup{rifpro}' ]), 'class="required" ') ?>
		  <div class="content<?php if ($sf_request->hasError('fapresup{rifpro}')): ?> form-error<?php endif; ?>">
		  <?php if ($sf_request->hasError('fapresup{rifpro}')): ?>
		    <?php echo form_error('fapresup{rifpro}', array('class' => 'form-error-msg')) ?>
		  <?php endif; ?>

			<?php $value = object_input_tag($fapresup, 'getRifpro', array (
			  'size' => 20,
			  'control_name' => 'fapresup[rifpro]',
			  'readonly'  =>  $fapresup->getId()!='' ? true : false ,
			  'onKeyDown' => "javascript:return dFilter (event.keyCode, this)",
			  'onBlur'=> remote_function(array(
						  'url'      => 'fapresup/ajax',
						  'script' => true,
						  'complete' => 'AjaxJSON(request, json)',
						  'condition' => "$('fapresup_rifpro').value != ''",
			  			  'with' => "'ajax=1&cajtexmos=fapresup_nompro&codigo='+this.value"
						  ))
			  )); echo $value ? $value : '&nbsp;' ?>
			<th>
			   <?php echo  button_to_popup('...',cross_app_link_to('herramientas','catalogo').'/metodo/Rifcli_Fapedido/clase/Facliente/frame/sf_admin_edit_form/obj1/fapresup_rifpro/obj2/fapresup_nompro/campo1/rifpro/campo2/nompro','','','botoncat')?></th>
			</th>
			<th>
			  <?php $value = object_input_tag($fapresup, 'getNompro', array (
			  'size' => 80,
			  'disabled' => true,
			  'control_name' => 'fapresup[nompro]',
			)); echo $value ? $value : '&nbsp;' ?>
			</th>
		    </div>
		</div>
    </th>
  </tr>
</table>

<br>

<table>
  <tr>
    <th>
		<div id="divdirpro">
		  <?php echo label_for('fapresup[dirpro]', __($labels['fapresup{dirpro}' ]), 'class="required" ') ?>
		  <div class="content<?php if ($sf_request->hasError('fapresup{dirpro}')): ?> form-error<?php endif; ?>">
		  <?php if ($sf_request->hasError('fapresup{dirpro}')): ?>
		    <?php echo form_error('fapresup{dirpro}', array('class' => 'form-error-msg')) ?>
		  <?php endif; ?>

		  <?php $value = object_input_tag($fapresup, 'getDirpro', array (
		  'disabled' => true,
		  'size' => '100',
		  'control_name' => 'fapresup[dirpro]',
		)); echo $value ? $value : '&nbsp;' ?>
		    </div>
		</div>
    </th>
</table>

<br>

<table>
	<tr>
    <th>
		<div id="divtelpro">
		  <?php echo label_for('fapresup[telpro]', __($labels['fapresup{telpro}' ]), 'class="required" ') ?>
		  <div class="content<?php if ($sf_request->hasError('fapresup{telpro}')): ?> form-error<?php endif; ?>">
		  <?php if ($sf_request->hasError('fapresup{telpro}')): ?>
		    <?php echo form_error('fapresup{telpro}', array('class' => 'form-error-msg')) ?>
		  <?php endif; ?>

		  <?php $value = object_input_tag($fapresup, 'getTelpro', array (
		  'disabled' => true,
		  'control_name' => 'fapresup[telpro]',
		)); echo $value ? $value : '&nbsp;' ?>
		    </div>
		</div>
    </th>
  </tr>
</table>
<div id="datpercon" style="display:none">
<br/>
<div id="divfacliper_id">
  <?php if($labels['fapresup{facliper_id}']!='.:') { ?>
  <?php echo label_for('fapresup[facliper_id]', __($labels['fapresup{facliper_id}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{facliper_id}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{facliper_id}')): ?>
    <?php echo form_error('fapresup{facliper_id}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
    
  <?php echo Catalogo($fapresup, 20, array (
  'getprincipal' => 'getFacliperId',
  'getsecundario' => 'getNomper',
  'campoprincipal' => 'facliper_id',
  'camposecundario' => 'nomper',
  'campobase' => 'id',
),  'Facturacion_Facliper',  'Facliper',  'param1/'."'+$('fapresup_codcli').value+'".'',  '+'."'".'&codpro='."'+$('fapresup_codcli').value".'',  '');?>

  	
  <?php if($labels['fapresup{facliper_id}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divdirper">
  <?php if($labels['fapresup{dirper}']!='.:') { ?>
  <?php echo label_for('fapresup[dirper]', __($labels['fapresup{dirper}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{dirper}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{dirper}')): ?>
    <?php echo form_error('fapresup{dirper}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($fapresup, 'getDirper', array (
  'disabled' => true,
  'control_name' => 'fapresup[dirper]',
  'style' => 'border:none',
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{dirper}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divtelper">
  <?php if($labels['fapresup{telper}']!='.:') { ?>
  <?php echo label_for('fapresup[telper]', __($labels['fapresup{telper}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{telper}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{telper}')): ?>
    <?php echo form_error('fapresup{telper}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($fapresup, 'getTelper', array (
  'disabled' => true,
  'control_name' => 'fapresup[telper]',
  'style' => 'border:none',
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{telper}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
</div>
<br/>

<table>
  <tr>
    <th>
		<div id="divdespre">
		  <?php echo label_for('fapresup[despre]', __($labels['fapresup{despre}' ]), 'class="required" ') ?>
		  <div class="content<?php if ($sf_request->hasError('fapresup{despre}')): ?> form-error<?php endif; ?>">
		  <?php if ($sf_request->hasError('fapresup{despre}')): ?>
		    <?php echo form_error('fapresup{despre}', array('class' => 'form-error-msg')) ?>
		  <?php endif; ?>

		  <?php $value = object_textarea_tag($fapresup, 'getDespre', array (
		  'size' => '90x3',
		  'maxlength'=>250,
		  'control_name' => 'fapresup[despre]',
		)); echo $value ? $value : '&nbsp;' ?>
		    </div>
		</div>
    </th>
  </tr>
</table>
<br/>
<div id="divcodsed" style="display:none">
  <?php if($labels['fapresup{codsed}']!='.:') { ?>
  <?php echo label_for('fapresup[codsed]', __($labels['fapresup{codsed}' ]), 'class="required"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{codsed}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{codsed}')): ?>
    <?php echo form_error('fapresup{codsed}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
    
  <?php echo Catalogo($fapresup, 18, array (
  'getprincipal' => 'getCodsed',
  'getsecundario' => 'getDessed',
  'campoprincipal' => 'codsed',
  'camposecundario' => 'dessed',
  'campobase' => 'id',
),  'Facturacion_Fadefsed',  'Fadefsed',  '',  '',  '');?>

  	
  <?php if($labels['fapresup{codsed}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divcoddirec">
  <?php if($labels['fapresup{coddirec}']!='.:') { ?>
  <?php echo label_for('fapresup[coddirec]', __($labels['fapresup{coddirec}' ]), 'class="required" ') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{coddirec}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{coddirec}')): ?>
    <?php echo form_error('fapresup{coddirec}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
    
  <?php echo Catalogo($fapresup, 11, array (
  'getprincipal' => 'getCoddirec',
  'getsecundario' => 'getDesdirec',
  'campoprincipal' => 'coddirec',
  'camposecundario' => 'desdirec',
  'campobase' => 'id',
),  'Cadefdirec_Almdefdiv',  'Cadefdirec',  '',  '',  '');?>

  	
  <?php if($labels['fapresup{coddirec}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>

<table>
  <tr>
    <th>
		<div id="divforsol">
		  <?php echo label_for('fapresup[faforsol_id]', __($labels['fapresup{faforsol_id}' ]), 'class="required" ') ?>
		  <div class="content<?php if ($sf_request->hasError('fapresup{faforsol_id}')): ?> form-error<?php endif; ?>">
		  <?php if ($sf_request->hasError('fapresup{faforsol_id}')): ?>
		    <?php echo form_error('fapresup{faforsol_id}', array('class' => 'form-error-msg')) ?>
		  <?php endif; ?>

		  <?php $value = object_select_tag($fapresup, 'getFaforsolId', array (
		  'related_class' => 'Faforsol',
		  'control_name' => 'fapresup[faforsol_id]',
		  'include_blank' => true,
		)); echo $value ? $value : '&nbsp;' ?>

		    </div>
		</div>
    </th>
  </tr>
</table>
<br/>
<div id="divtipopre" style="display:none">

<div id="divtippre">
  <?php if($labels['fapresup{tippre}']!='.:') { ?>
  <?php echo label_for('fapresup[tippre]', __($labels['fapresup{tippre}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{tippre}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{tippre}')): ?>
    <?php echo form_error('fapresup{tippre}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  	   
  
<?php echo select_tag('fapresup[tippre]', options_for_select(array('R' => 'Rotativo', 'P' => 'Patrocinio', 'C' => 'Contrato'),
$fapresup->getTippre(),'include_custom=Seleccione el tipo...'),array('onChange' => 'verificar(this.value)')) ?>	      
		
  <?php if($labels['fapresup{tippre}']!='.:') { ?>  
   
  </div>
  <?php  } ?> 
</div>

</div>
<br/>
<br/>
<div id="divperiodo" style="display:none">

<div id="divpercon">
  <?php if($labels['fapresup{percon}']!='.:') { ?>
  <?php echo label_for('fapresup[percon]', __($labels['fapresup{percon}' ]), 'class="required" Style="text-align:left;"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{percon}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{percon}')): ?>
    <?php echo form_error('fapresup{percon}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  	   
  
<?php echo select_tag('fapresup[percon]', options_for_select(array('M' => 'Mensual', 'B' => 'Bimensual', 'T' => 'Trimestral', 'A' => 'Anual'),
$fapresup->getPercon(),'include_custom=Seleccione el Período...')) ?>	      
		
  <?php if($labels['fapresup{percon}']!='.:') { ?>  
   
  </div>
  <?php  } ?> 
</div>
<br/>
<div id="divfeciniper">
  <?php if($labels['fapresup{feciniper}']!='.:') { ?>
  <?php echo label_for('fapresup[feciniper]', __($labels['fapresup{feciniper}' ]), 'class="required" Style="text-align:left;"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{feciniper}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{feciniper}')): ?>
    <?php echo form_error('fapresup{feciniper}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  	   
  
 <?php $value = object_input_date_tag($fapresup, 'getFeciniper', array (
  'rich' => true,
  'calendar_button_img' => '/sf/sf_admin/images/date.png',
  'control_name' => 'fapresup[feciniper]',
  'date_format' => 'dd/MM/yyyy',
  'maxlength' => 10,
  'onkeyup' => "javascript: mascara(this,'/',patron,true)",
 )); echo $value ? $value : '&nbsp;' ?>      
		
  <?php if($labels['fapresup{feciniper}']!='.:') { ?>  
   
  </div>
  <?php  } ?> 
</div>

</div>
<br/>

<table>
  <tr>
    <th>
	<div id="divmondesc">
	  <?php echo label_for('fapresup[monrgo]', __($labels['fapresup{monrgo}' ]), 'class="required" ') ?>
	  <div class="content<?php if ($sf_request->hasError('fapresup{monrgo}')): ?> form-error<?php endif; ?>">
	  <?php if ($sf_request->hasError('fapresup{monrgo}')): ?>
	    <?php echo form_error('fapresup{monrgo}', array('class' => 'form-error-msg')) ?>
	  <?php endif; ?>

	  <?php $value = object_input_tag($fapresup, array('getMonrgo',true), array (
	  'size' => 10,
	  'onKeyPress' => 'return validaDecimal(event)',
	  'onBlur' => 'event.keyCode=13;return formatoDecimal(event,this.id)',
	  'control_name' => 'fapresup[monrgo]',
	)); echo $value ? $value : '&nbsp;' ?>
	    </div>
	</div>
    </th>
    <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
    <th>
	<div id="divmondesc">
	  <?php echo label_for('fapresup[mondesc]', __($labels['fapresup{mondesc}' ]), 'class="required" ') ?>
	  <div class="content<?php if ($sf_request->hasError('fapresup{mondesc}')): ?> form-error<?php endif; ?>">
	  <?php if ($sf_request->hasError('fapresup{mondesc}')): ?>
	    <?php echo form_error('fapresup{mondesc}', array('class' => 'form-error-msg')) ?>
	  <?php endif; ?>

	  <?php $value = object_input_tag($fapresup, array('getMondesc',true), array (
	  'size' => 10,
	  'onKeyPress' => 'return validaDecimal(event)',
	  'onBlur' => 'event.keyCode=13;return formatoDecimal(event,this.id)',
	  'control_name' => 'fapresup[mondesc]',
	)); echo $value ? $value : '&nbsp;' ?>
	    </div>
	</div>
    </th>
    <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
    <th>
		<div id="divmonpre">
		  <?php echo label_for('fapresup[monpre]', __($labels['fapresup{monpre}' ]), 'class="required" ') ?>
		  <div class="content<?php if ($sf_request->hasError('fapresup{monpre}')): ?> form-error<?php endif; ?>">
		  <?php if ($sf_request->hasError('fapresup{monpre}')): ?>
		    <?php echo form_error('fapresup{monpre}', array('class' => 'form-error-msg')) ?>
		  <?php endif; ?>

		  <?php $value = object_input_tag($fapresup, array('getMonpre',true), array (
		  'size' => 10,
		  'readonly'  =>  true,
		  'onKeyPress' => 'return validaDecimal(event)',
		  'onBlur' => 'event.keyCode=13;return formatoDecimal(event,this.id)',
		  'control_name' => 'fapresup[monpre]',
		)); echo $value ? $value : '&nbsp;' ?>
		    </div>
		</div>
    </th>
  </tr>
</table>

<ul class="sf_admin_actions">
    <?php if ($fapresup->getId()) {?>
    <li class="float-rigth">
        <input name="Forma" type="button" value="Forma-Preimpresa" class="sf_admin_action_list" onClick="formapreimpresa()">
    </li>
    <?php }?>
</ul>
</div>
</fieldset>

<h2 class="h2" onclick="javascript: return $('divDetalle Presupuesto').toggle();"><?php if ($cametifor=='S') echo __('Detalle Cotización'); else echo __('Detalle Presupuesto'); ?></h2>
<fieldset id="sf_fieldset_detalle_presupuesto" class="">

<div class="form-row" id="divDetalle Presupuesto">
<div id="datosRecarg" style="display:none">
<div id="divgrid_fargopre">
  <?php if($labels['fapresup{grid_fargopre}']!='.:') { ?>
  <?php echo label_for('fapresup[grid_fargopre]', __($labels['fapresup{grid_fargopre}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{grid_fargopre}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{grid_fargopre}')): ?>
    <?php echo form_error('fapresup{grid_fargopre}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  

  <?php $value = get_partial('grid_fargopre', array('type' => 'edit', 'fapresup' => $fapresup)); echo $value ? $value : '&nbsp;' ?>

 <?php if($labels['fapresup{grid_fargopre}']!='.:') { ?>  
    </div>
 <?php  } ?> 
</div>
<br/>
<table>
<tr>
<th>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</th>
<th>
<?php echo link_to_function(image_tag('/images/salir.gif'), "salvarmontorecargos()") ?> <font color="#1630EE" size="1" face="Verdana, Arial, Helvetica, sans-serif">
<p align="center"><?php echo __('Ocultar') ?></p></font>
</th>
<th>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</th>
<th>
<div id="divtotrec" >
  <?php echo label_for('fapresup[totrec]', __($labels['fapresup{totrec}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{totrec}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{totrec}')): ?>
    <?php echo form_error('fapresup{totrec}', array('class' => 'form-error-msg')) ?>
  <?php endif; ?>

  <?php
 $value = object_input_tag($fapresup, 'getTotrec', array (
	'readonly' => true,
	'class' => 'grid_txtright',
	'control_name' => 'fapresup[totrec]',

));
echo $value ? $value : '&nbsp;'
?>
    </div>
</div>
</th></tr></table>
<br/>
</div>
<div id="divcontratos" style="display:none">
<div id="divgridcon">
  <?php if($labels['fapresup{gridcon}']!='.:') { ?>
  <?php echo label_for('fapresup[gridcon]', __($labels['fapresup{gridcon}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{gridcon}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{gridcon}')): ?>
    <?php echo form_error('fapresup{gridcon}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = get_partial('gridcon', array('type' => 'edit', 'fapresup' => $fapresup)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{gridcon}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 
</div>
<br/>
<table>
<tr>
<th>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</th>
<th>
<?php echo link_to_function(image_tag('/images/salir.gif'), "salvarmontocontratos()") ?> <font color="#1630EE" size="1" face="Verdana, Arial, Helvetica, sans-serif">
<p align="center"><?php echo __('Ocultar') ?></p></font>
</th>
<th>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</th>
</tr></table>
</div>

<div id="datosAPU" style="display:none" >
<fieldset id="sf_fieldset_none" class="">
<legend><b><?php echo __('Análisis de Precio Unitario')?></b></legend>
<div class="form-row">
<div id="divgridmat">
  <?php if($labels['fapresup{gridmat}']!='.:') { ?>
  <?php echo label_for('fapresup[gridmat]', __($labels['fapresup{gridmat}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{gridmat}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{gridmat}')): ?>
    <?php echo form_error('fapresup{gridmat}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  

  <?php $value = get_partial('gridmat', array('type' => 'edit', 'fapresup' => $fapresup)); echo $value ? $value : '&nbsp;' ?>

  <?php if($labels['fapresup{gridmat}']!='.:') { ?>  
  </div>
  <?php  } ?> 
</div>
<br/>
<table>
<tr>
<th>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</th>
<th>
<div id="divtotmat" >
<?php if($labels['fapresup{totmat}']!='.:') { ?>
  <?php echo label_for('fapresup[totmat]', __($labels['fapresup{totmat}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{totmat}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{totmat}')): ?>
    <?php echo form_error('fapresup{totmat}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
 &nbsp;
  <?php $value = object_input_tag($fapresup, 'getTotmat', array (
  'readonly' => true,
  'class' => 'grid_txtright',
  'control_name' => 'fapresup[totmat]',
)); echo $value ? $value : '&nbsp;' ?>
		
  <?php if($labels['fapresup{totmat}']!='.:') { ?> 
   </div>
  <?php  } ?> 
    </div>    
</th></tr></table>
<br/>

<div id="divgridequ">
  <?php if($labels['fapresup{gridequ}']!='.:') { ?>
  <?php echo label_for('fapresup[gridequ]', __($labels['fapresup{gridequ}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{gridequ}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{gridequ}')): ?>
    <?php echo form_error('fapresup{gridequ}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  

  <?php $value = get_partial('gridequ', array('type' => 'edit', 'fapresup' => $fapresup)); echo $value ? $value : '&nbsp;' ?>

  <?php if($labels['fapresup{gridequ}']!='.:') { ?>  
  </div>
  <?php  } ?> 
</div>
<br/>
<table>
<tr>
<th>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</th>
<th>
<div id="divtotequ">
  <?php if($labels['fapresup{totequ}']!='.:') { ?>
  <?php echo label_for('fapresup[totequ]', __($labels['fapresup{totequ}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{totequ}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{totequ}')): ?>
    <?php echo form_error('fapresup{totequ}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  

  <?php $value = object_input_tag($fapresup, 'getTotequ', array (
  'readonly' => true,
  'class' => 'grid_txtright',
  'control_name' => 'fapresup[totequ]',
)); echo $value ? $value : '&nbsp;' ?>      
		
  <?php if($labels['fapresup{totequ}']!='.:') { ?>
   </div>
  <?php  } ?> 
</div>    
</th></tr></table>

<br/>
<div id="divgridman">
  <?php if($labels['fapresup{gridman}']!='.:') { ?>
  <?php echo label_for('fapresup[gridman]', __($labels['fapresup{gridman}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{gridman}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{gridman}')): ?>
    <?php echo form_error('fapresup{gridman}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  

  <?php $value = get_partial('gridman', array('type' => 'edit', 'fapresup' => $fapresup)); echo $value ? $value : '&nbsp;' ?>
 
  <?php if($labels['fapresup{gridman}']!='.:') { ?>  
  </div>
  <?php  } ?> 
</div>
<br/>
<table>
<tr>
<th>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</th>
<th>
<div id="divtotman">
  <?php if($labels['fapresup{totman}']!='.:') { ?>
  <?php echo label_for('fapresup[totman]', __($labels['fapresup{totman}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{totman}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{totman}')): ?>
    <?php echo form_error('fapresup{totman}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
  <?php $value = object_input_tag($fapresup, 'getTotman', array (
  'readonly' => true,
  'class' => 'grid_txtright',
  'control_name' => 'fapresup[totman]',
)); echo $value ? $value : '&nbsp;' ?>

  <?php if($labels['fapresup{totman}']!='.:') { ?>  

  </div>
  <?php  } ?> 
</div>    
</th></tr></table>

<br/>
<div id="divgridser">
  <?php if($labels['fapresup{gridser}']!='.:') { ?>
  <?php echo label_for('fapresup[gridser]', __($labels['fapresup{gridser}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{gridser}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{gridser}')): ?>
    <?php echo form_error('fapresup{gridser}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  

  <?php $value = get_partial('gridser', array('type' => 'edit', 'fapresup' => $fapresup)); echo $value ? $value : '&nbsp;' ?>
 
  <?php if($labels['fapresup{gridser}']!='.:') { ?>  
  </div>
  <?php  } ?> 
</div>
<br/>
<table>
<tr>
<th>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</th>
<th>
<div id="divtotser">
  <?php if($labels['fapresup{totser}']!='.:') { ?>
  <?php echo label_for('fapresup[totser]', __($labels['fapresup{totser}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{totser}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{totser}')): ?>
    <?php echo form_error('fapresup{totser}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
  <?php $value = object_input_tag($fapresup, 'getTotser', array (
  'readonly' => true,
  'class' => 'grid_txtright',
  'control_name' => 'fapresup[totser]',
)); echo $value ? $value : '&nbsp;' ?>

  <?php if($labels['fapresup{totser}']!='.:') { ?>  

  </div>
  <?php  } ?> 
</div>    
</th></tr></table>
<br/>
<table>
  <tr>
    <th>
    <div id="divtotapu">
  <?php if($labels['fapresup{totapu}']!='.:') { ?>
  <?php echo label_for('fapresup[totapu]', __($labels['fapresup{totapu}' ]), 'class="required" Style="text-align:rigth; width:80px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{totapu}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{totapu}')): ?>
    <?php echo form_error('fapresup{totapu}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  

  <?php $value = object_input_tag($fapresup, 'getTotapu', array (
  'readonly' => true,
  'size' => 10,
  'class' => 'grid_txtright',
  'control_name' => 'fapresup[totapu]',
)); echo $value ? $value : '&nbsp;' ?>

  <?php if($labels['fapresup{totapu}']!='.:') { ?>  

    </div>
    <?php  } ?> 
  </div>
    </th>
    <th>&nbsp;&nbsp;&nbsp;</th>
    <th>
    <div id="divtotgasadm">
  <?php if($labels['fapresup{totgasadm}']!='.:') { ?>
  <?php echo label_for('fapresup[totgasadm]', __($labels['fapresup{totgasadm}' ]), 'class="required" Style="text-align:rigth; width:80px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{totgasadm}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{totgasadm}')): ?>
    <?php echo form_error('fapresup{totgasadm}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  

  <?php $value = object_input_tag($fapresup, 'getTotgasadm', array (
  'readonly' => true,
  'size' => 10,
  'class' => 'grid_txtright',
  'control_name' => 'fapresup[totgasadm]',
)); echo $value ? $value : '&nbsp;' ?>

  <?php if($labels['fapresup{totgasadm}']!='.:') { ?>  

  </div>
  <?php  } ?> 
</div>
    </th>
    <th>&nbsp;&nbsp;&nbsp;</th>
    <th>
    <div id="divtotcarfab">
  <?php if($labels['fapresup{totcarfab}']!='.:') { ?>
  <?php echo label_for('fapresup[totcarfab]', __($labels['fapresup{totcarfab}' ]), 'class="required" Style="text-align:rigth; width:80px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{totcarfab}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{totcarfab}')): ?>
    <?php echo form_error('fapresup{totcarfab}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  

  <?php $value = object_input_tag($fapresup, 'getTotcarfab', array (
  'readonly' => true,
  'size' => 10,
  'class' => 'grid_txtright',
  'control_name' => 'fapresup[totcarfab]',
)); echo $value ? $value : '&nbsp;' ?>

  <?php if($labels['fapresup{totcarfab}']!='.:') { ?>  

  </div>
  <?php  } ?> 
</div>
    </th>
    <th>&nbsp;&nbsp;&nbsp;</th>
    <th>
        <div id="divtotuti">
  <?php if($labels['fapresup{totuti}']!='.:') { ?>
  <?php echo label_for('fapresup[totuti]', __($labels['fapresup{totuti}' ]), 'class="required" Style="text-align:rigth; width:80px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{totuti}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{totuti}')): ?>
    <?php echo form_error('fapresup{totuti}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  

  <?php $value = object_input_tag($fapresup, 'getTotuti', array (
  'readonly' => true,
  'size' => 10,
  'class' => 'grid_txtright',
  'control_name' => 'fapresup[totuti]',
)); echo $value ? $value : '&nbsp;' ?>

  <?php if($labels['fapresup{totuti}']!='.:') { ?>  

  </div>
  <?php  } ?> 
</div>
    </th>
    <th>&nbsp;&nbsp;&nbsp;</th>
    <th>
  <div id="divtotpreuni">
  <?php if($labels['fapresup{totpreuni}']!='.:') { ?>
  <?php echo label_for('fapresup[totpreuni]', __($labels['fapresup{totpreuni}' ]), 'class="required" Style="text-rigth:left; width:80px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{totpreuni}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{totpreuni}')): ?>
    <?php echo form_error('fapresup{totpreuni}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  

  <?php $value = object_input_tag($fapresup, 'getTotpreuni', array (
  'readonly' => true,
  'size' => 10,
  'class' => 'grid_txtright',
  'control_name' => 'fapresup[totpreuni]',
)); echo $value ? $value : '&nbsp;' ?>

  <?php if($labels['fapresup{totpreuni}']!='.:') { ?>  

  </div>
  <?php  } ?> 
</div>
    </th>
  </tr>
</table>


<br/>
<table>
<tr>
<th>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</th>
<th>
<?php echo link_to_function(image_tag('/images/salir.gif'), "salvarAnalisisprecio()") ?> <font color="#1630EE" size="1" face="Verdana, Arial, Helvetica, sans-serif">
<p align="center"><?php echo __('Ocultar') ?></p></font>
</th>
<th>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</th>
</tr></table>
</div>
</fieldset>
</div>

<br/>
<div id="divgrid">
  <?php if($labels['fapresup{grid}']!='.:') { ?>
  <?php echo label_for('fapresup[grid]', __($labels['fapresup{grid}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{grid}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{grid}')): ?>
    <?php echo form_error('fapresup{grid}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  

  <?php $value = get_partial('grid', array('type' => 'edit', 'fapresup' => $fapresup)); echo $value ? $value : '&nbsp;' ?>

 <?php if($labels['fapresup{grid}']!='.:') { ?>  
    </div>
 <?php  } ?> 
</div>
<br/>
</div>
</fieldset>

<h2 class="h2" onclick="javascript: return $('divCondición de Pago').toggle();"><?php echo __('Condición de Pago') ?></h2>
<fieldset id="sf_fieldset_condici__n_de_pago" class="">

<div class="form-row" id="divCondición de Pago">
<div id="divcodconpag">
  <?php echo label_for('fapresup[faconpag_id]', __($labels['fapresup{faconpag_id}' ]), 'class="required" ') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{faconpag_id}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{faconpag_id}')): ?>
    <?php echo form_error('fapresup{faconpag_id}', array('class' => 'form-error-msg')) ?>
  <?php endif; ?>

  <?php $value = object_select_tag($fapresup, 'getFaconpagId', array (
  'related_class' => 'Faconpag',
  'control_name' => 'fapresup[faconpag_id]',
  'include_blank' => true,
)); echo $value ? $value : '&nbsp;' ?>
    </div>
</div>
<br/>
</div>
</fieldset>
<h2 class="h2" onclick="javascript: return $('divForma de Despacho').toggle();"><?php echo __('Forma de Despacho') ?></h2>
<fieldset id="sf_fieldset_forma_de_despacho" class="">

<div class="form-row" id="divForma de Despacho">
<div id="divfordes">
  <?php echo label_for('fapresup[fafordes_id]', __($labels['fapresup{fafordes_id}' ]), 'class="required" ') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{fafordes_id}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{fafordes_id}')): ?>
    <?php echo form_error('fapresup{fafordes_id}', array('class' => 'form-error-msg')) ?>
  <?php endif; ?>

  <?php $value = object_select_tag($fapresup, 'getFafordesId', array (
  'related_class' => 'Fafordes',
  'control_name' => 'fapresup[fafordes_id]',
  'include_blank' => true,
)); echo $value ? $value : '&nbsp;' ?>
</div>
<br/>
</div>
</fieldset>

<h2 class="h2" onclick="javascript: return $('divEmbarcación').toggle();"><?php echo __('Embarcación') ?></h2>
<fieldset id="sf_fieldset_embarcaci__n" class="">

<div class="form-row" id="divEmbarcación">
<div id="divcodemb">
  <?php if($labels['fapresup{codemb}']!='.:') { ?>
  <?php echo label_for('fapresup[codemb]', __($labels['fapresup{codemb}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{codemb}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{codemb}')): ?>
    <?php echo form_error('fapresup{codemb}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
    
  <?php echo Catalogo($fapresup, 13, array (
  'getprincipal' => 'getCodemb',
  'getsecundario' => 'getNomemb',
  'campoprincipal' => 'codemb',
  'camposecundario' => 'nomemb',
  'campobase' => 'id',
),  'Faembarca_Fapresup',  'Faembarca',  '',  '',  '');?>

  	
  <?php if($labels['fapresup{codemb}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divsigimo">
  <?php if($labels['fapresup{sigimo}']!='.:') { ?>
  <?php echo label_for('fapresup[sigimo]', __($labels['fapresup{sigimo}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{sigimo}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{sigimo}')): ?>
    <?php echo form_error('fapresup{sigimo}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($fapresup, 'getSigimo', array (
  'disabled' => true,
  'control_name' => 'fapresup[sigimo]',
  'style' => 'border:none',
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{sigimo}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divtipemb">
  <?php if($labels['fapresup{tipemb}']!='.:') { ?>
  <?php echo label_for('fapresup[tipemb]', __($labels['fapresup{tipemb}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{tipemb}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{tipemb}')): ?>
    <?php echo form_error('fapresup{tipemb}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($fapresup, 'getTipemb', array (
  'disabled' => true,
  'control_name' => 'fapresup[tipemb]',
  'style' => 'border:none',
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{tipemb}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divproemb">
  <?php if($labels['fapresup{proemb}']!='.:') { ?>
  <?php echo label_for('fapresup[proemb]', __($labels['fapresup{proemb}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{proemb}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{proemb}')): ?>
    <?php echo form_error('fapresup{proemb}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($fapresup, 'getProemb', array (
  'disabled' => true,
  'control_name' => 'fapresup[proemb]',
  'style' => 'border:none',
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{proemb}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="diveslora">
  <?php if($labels['fapresup{eslora}']!='.:') { ?>
  <?php echo label_for('fapresup[eslora]', __($labels['fapresup{eslora}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{eslora}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{eslora}')): ?>
    <?php echo form_error('fapresup{eslora}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($fapresup, 'getEslora', array (
  'disabled' => true,
  'control_name' => 'fapresup[eslora]',
  'style' => 'border:none',
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{eslora}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divmanga">
  <?php if($labels['fapresup{manga}']!='.:') { ?>
  <?php echo label_for('fapresup[manga]', __($labels['fapresup{manga}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{manga}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{manga}')): ?>
    <?php echo form_error('fapresup{manga}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($fapresup, 'getManga', array (
  'disabled' => true,
  'control_name' => 'fapresup[manga]',
  'style' => 'border:none',
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{manga}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divpuntal">
  <?php if($labels['fapresup{puntal}']!='.:') { ?>
  <?php echo label_for('fapresup[puntal]', __($labels['fapresup{puntal}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{puntal}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{puntal}')): ?>
    <?php echo form_error('fapresup{puntal}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($fapresup, 'getPuntal', array (
  'disabled' => true,
  'control_name' => 'fapresup[puntal]',
  'style' => 'border:none',
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{puntal}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divcalado">
  <?php if($labels['fapresup{calado}']!='.:') { ?>
  <?php echo label_for('fapresup[calado]', __($labels['fapresup{calado}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{calado}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{calado}')): ?>
    <?php echo form_error('fapresup{calado}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($fapresup, 'getCalado', array (
  'disabled' => true,
  'control_name' => 'fapresup[calado]',
  'style' => 'border:none',
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{calado}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divpeso">
  <?php if($labels['fapresup{peso}']!='.:') { ?>
  <?php echo label_for('fapresup[peso]', __($labels['fapresup{peso}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{peso}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{peso}')): ?>
    <?php echo form_error('fapresup{peso}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($fapresup, 'getPeso', array (
  'disabled' => true,
  'control_name' => 'fapresup[peso]',
  'style' => 'border:none',
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{peso}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divnumcue">
  <?php if($labels['fapresup{numcue}']!='.:') { ?>
  <?php echo label_for('fapresup[numcue]', __($labels['fapresup{numcue}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{numcue}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{numcue}')): ?>
    <?php echo form_error('fapresup{numcue}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
    
  <?php echo Catalogo($fapresup, 24, array (
  'getprincipal' => 'getNumcue',
  'getsecundario' => 'getNomcue',
  'campoprincipal' => 'numcue',
  'camposecundario' => 'nomcue',
  'campobase' => 'id',
),  'Opdefemp_tsdefban',  'Tsdefban',  '',  '',  '');?>

    
  <?php if($labels['fapresup{numcue}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
</div>
</fieldset>
<h2 class="h2" onclick="javascript: return $('divObservación').toggle();"><?php echo __('Observación') ?></h2>
<fieldset id="sf_fieldset_observaci__n" class="">

<div class="form-row" id="divObservación">
<div id="divobserv">
  <?php echo label_for('fapresup[observ]', __($labels['fapresup{observ}' ]), 'class="required" ') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{observ}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{observ}')): ?>
    <?php echo form_error('fapresup{observ}', array('class' => 'form-error-msg')) ?>
  <?php endif; ?>

  <?php $value = object_textarea_tag($fapresup, 'getObserv', array (
  'size' => '90x3',
  'maxlength'=>500,
  'control_name' => 'fapresup[observ]',
)); echo $value ? $value : '&nbsp;' ?>
    </div>
</div>
<br/>
</div>
</fieldset>

<h2 class="h2" onclick="javascript: return $('divCondiciones').toggle();"><?php echo __('Condiciones') ?></h2>
<fieldset id="sf_fieldset_condiciones" class="">

<div class="form-row" id="divCondiciones">
<div id="divcodgru">
  <?php if($labels['fapresup{codgru}']!='.:') { ?>
  <?php echo label_for('fapresup[codgru]', __($labels['fapresup{codgru}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{codgru}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{codgru}')): ?>
    <?php echo form_error('fapresup{codgru}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
    
  <?php echo Catalogo($fapresup, 14, array (
  'getprincipal' => 'getCodgru',
  'getsecundario' => 'getDesgru',
  'campoprincipal' => 'codgru',
  'camposecundario' => 'desgru',
  'campobase' => 'id',
),  'Facturacion_Fadefgru',  'Fadefgru',  '',  '',  'divgridclau');?>

  	
  <?php if($labels['fapresup{codgru}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divgridclau">
  <?php if($labels['fapresup{gridclau}']!='.:') { ?>
  <?php echo label_for('fapresup[gridclau]', __($labels['fapresup{gridclau}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{gridclau}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{gridclau}')): ?>
    <?php echo form_error('fapresup{gridclau}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = get_partial('gridclau', array('type' => 'edit', 'fapresup' => $fapresup)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{gridclau}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
</div>
</fieldset>

<h2 class="h2" onclick="javascript: return $('divOtros Datos').toggle();"><?php echo __('Otros Datos') ?></h2>
<fieldset id="sf_fieldset_otros_datos" class="">

<div class="form-row" id="divOtros Datos">
<div id="divcantras">
  <?php if($labels['fapresup{cantras}']!='.:') { ?>
  <?php echo label_for('fapresup[cantras]', __($labels['fapresup{cantras}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{cantras}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{cantras}')): ?>
    <?php echo form_error('fapresup{cantras}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($fapresup, 'getCantras', array (
  'size' => 20,
  'control_name' => 'fapresup[cantras]',
  'maxlength' => 50,
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{cantras}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divpertra">
  <?php if($labels['fapresup{pertra}']!='.:') { ?>
  <?php echo label_for('fapresup[pertra]', __($labels['fapresup{pertra}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{pertra}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{pertra}')): ?>
    <?php echo form_error('fapresup{pertra}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($fapresup, 'getPertra', array (
  'size' => 20,
  'control_name' => 'fapresup[pertra]',
  'maxlength' => 50,
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{pertra}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divfrectra">
  <?php if($labels['fapresup{frectra}']!='.:') { ?>
  <?php echo label_for('fapresup[frectra]', __($labels['fapresup{frectra}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{frectra}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{frectra}')): ?>
    <?php echo form_error('fapresup{frectra}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($fapresup, 'getFrectra', array (
  'size' => 20,
  'control_name' => 'fapresup[frectra]',
  'maxlength' => 50,
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{frectra}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divduracion">
  <?php if($labels['fapresup{duracion}']!='.:') { ?>
  <?php echo label_for('fapresup[duracion]', __($labels['fapresup{duracion}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{duracion}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{duracion}')): ?>
    <?php echo form_error('fapresup{duracion}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($fapresup, 'getDuracion', array (
  'size' => 20,
  'control_name' => 'fapresup[duracion]',
  'maxlength' => 50,
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{duracion}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
<div id="divobstra">
  <?php if($labels['fapresup{obstra}']!='.:') { ?>
  <?php echo label_for('fapresup[obstra]', __($labels['fapresup{obstra}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('fapresup{obstra}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fapresup{obstra}')): ?>
    <?php echo form_error('fapresup{obstra}', array('class' => 'form-error-msg')) ?>
  <?php endif; }?>  
  
   
  
  <?php $value = object_input_tag($fapresup, 'getObstra', array (
  'size' => 80,
  'control_name' => 'fapresup[obstra]',
  'maxlength' => 50,
)); echo $value ? $value : '&nbsp;' ?>
      
		
  <?php if($labels['fapresup{obstra}']!='.:') { ?>  
  

   
  </div>
  <?php  } ?> 

</div>
<br/>
</div>
</fieldset>

<?php include_partial('edit_actions', array('fapresup' => $fapresup)) ?>

</form>
  <?php    
  $pdfjasper="";
     $dirrepconfig = $sf_user->getAttribute('reportes').'reportes/config.yml';
     $configyml = sfYaml::load($dirrepconfig);
     if(is_array($configyml)){
       if(array_key_exists('facturacion',$configyml)) {
         if(array_key_exists('fapresup',$configyml['facturacion'])) {     
           if(array_key_exists('parameterjasper',$configyml['facturacion']["fapresup"])) 
             $pdfjasper= $configyml["facturacion"]["fapresup"]["parameterjasper"];
        }
      }
    }
  ?>
<ul class="sf_admin_actions">
      <li class="float-left"><?php if ($fapresup->getId()): ?>
<?php echo button_to(__('delete'), 'fapresup/delete?id='.$fapresup->getId(), array (
  'post' => true,
  'confirm' => __('Are you sure?'),
  'class' => 'sf_admin_action_delete',
)) ?><?php endif; ?>
</li>
  </ul>

<script type="text/javascript">

  var idf='<?php echo $fapresup->getId()?>';
  if (idf!="")
  {
    $$('.botoncat')[0].disabled=true;
    $('trigger_fapresup_fecpre').hide();
    if ($('fapresup_tippre').value=='C'){
    	$('divperiodo').show();
    }else {
    	$('divperiodo').hide();
    }
    var tienefacped='<?php echo $fapresup->TienePedFac()?>';
    var estaprob='<?php echo $fapresup->getStaapr()?>';
    if (tienefacped=='S'  || estaprob=='S')
    	$$('.sf_admin_action_save')[0].hide();

    monto_recargo()
     monto_descto();
     monto_total();
  }
  else{
    cargaprecio();
    $('divperiodo').hide();
  }

  var manembarca='<?php echo H::getConfApp2('manembarca', 'facturacion', 'fapresup');?>';
  if (manembarca!='S'){
    $('sf_fieldset_embarcaci__n').hide();
    $$('.h2')[4].hide();
  }

  var oculotrodat='<?php echo H::getConfApp2('oculotrodat', 'facturacion', 'fapresup');?>';
  if (oculotrodat='S'){
    $('sf_fieldset_otros_datos').hide();
    $$('.h2')[7].hide();
  }

  var mantippre='<?php echo H::getConfApp2('mantippre', 'facturacion', 'fapresup');?>';
  if (mantippre=='S')
    $('divtipopre').show();
  
  var mossed='<?php echo H::getConfApp2('mossed', 'facturacion', 'fapresup');?>';
  if (mossed=='S'){
  	$('divcoddirec').hide();
  	$('divcodsed').show();
  }
var refiereotrcot='<?php echo H::getConfApp2('refotrcot', 'facturacion', 'fapresup');?>';
  if (refiereotrcot=='S'){
  	$('refotrcot').show();
  	if ($('fapresup_tiecot_s').checked==true)
  		$('divrefpreaso').show();
  }
  
  var mosdatpercon='<?php echo H::getConfApp2('mosdatpercon', 'facturacion', 'fapresup');?>';
  if (mosdatpercon=='S')
    $('datpercon').show();  
 
 var valor='<?php echo H::getX_vacio('CODMON','Tsdesmon','Valmon',H::getX_vacio('CODEMP', 'Opdefemp', 'Codmon', '001'));?>';
    if (valor!="")
    {
        calculo=toFloat2(valor);
        var num2=toFloat('fapresup_valmon');
        if (num2==0)
           $('fapresup_valmon').value=format(calculo.toFixed(6),'.',',','.');
    }

  function enters(e,valor)
  {
   if (e.keyCode==13 || e.keyCode==9)
   {
   	 var nuevo='<?php echo $fapresup->getId();?>';
   	 var carpresup='<?php echo H::getConfApp2('carpresup', 'facturacion', 'fapresup');?>';
   	 if (nuevo=='') {
	     if (valor!='')
	     {  
	     	if (valor!='########' && carpresup=='S')
	        {
	          new Ajax.Updater('divgrid', '/facturacion'+getEnv()+'.php/fapresup/ajax', {asynchronous:true, evalScripts:true, onComplete:function(request, json){AjaxJSON(request, json)}, parameters:'ajax=9&refpre='+valor});
	        }else valor=valor.pad(8, '0',0);
	     }else{
	     	valor=valor.pad(8, '#',0);
	     }
	     $('fapresup_refpre').value=valor;
    }
   }
  }

  function perderfocus(e,id,totcol)
 {
   var aux = id.split("_");
   var name=aux[0];
   var fil=parseInt(aux[1]);
   var col=parseInt(aux[2]);

   if (col!=totcol)
   {
    var colsig=col+1;
    var siguiente=name+"_"+fil+"_"+colsig;
   }
   else
   {
    var fila=fil+1;
   	var siguiente=name+"_"+fila+"_1";
   }

   if (e.keyCode==13 || e.keyCode==9)
   {
     if($(siguiente))
     {
      if (!$(siguiente).readOnly) $(siguiente).focus();
     }
   }
  }

  function verificar(valor){
  	if (valor=='C') {
  		$('divperiodo').show();
  	}
  	else {
  		$('divperiodo').hide();
  	}  		
  }

  function formapreimpresa()
  {
      var  refpre='<? echo $fapresup->getRefpre();?>';
      var  ruta='http://'+'<?echo $this->getContext()->getRequest()->getHost();?>';
      var nombrerep='<?php echo $fapresup->getNomreppre();?>';
      var  mostrarjasper='<?php echo $pdfjasper;?>';
      if (mostrarjasper=='S')
      {
      	if (nombrerep!='')
          pagina=ruta+"/<?php echo $sf_user->getAttribute('reportes_web');?>/jasper.php?m=facturacion&r="+nombrerep+".php&s=<?php echo $sf_user->getAttribute('schema');?>&refdes="+refpre+"&refhas="+refpre;
        else
          pagina=ruta+"/<?php echo $sf_user->getAttribute('reportes_web');?>/jasper.php?m=facturacion&r=farpresupuesto.php&s=<?php echo $sf_user->getAttribute('schema');?>&refdes="+refpre+"&refhas="+refpre;
      }else {
	      if (nombrerep!='')
		    pagina=ruta+"/<?php echo $sf_user->getAttribute('reportes_web');?>/facturacion/r.php?r="+nombrerep+".php&refdes="+refpre+"&refhas="+refpre;
		  else
		  	pagina=ruta+"/<?php echo $sf_user->getAttribute('reportes_web');?>/facturacion/r.php?r=farpresupuesto.php&refdes="+refpre+"&refhas="+refpre;
	  }


      window.open(pagina,refpre,"menubar=yes,toolbar=yes,scrollbars=yes,width=1200,height=800,resizable=yes,left=1000,top=80");      
  }  
 </script>